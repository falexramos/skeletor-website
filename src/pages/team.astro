---
import BaseLayout from "@/layouts/BaseLayout.astro";
import SectionTitle from "@/components/SectionTitle.astro";
import TeamMemberCard from "@/components/TeamMemberCard.astro";
import TestimonialCard from "@/components/TestimonialCard.astro";
import CTASection from "@/components/CTASection.astro";
import SimpleHeroSection from "@/components/SimpleHeroSection.astro";

const leadership = [
    {
        name: "Joanna Glod Núñez",
        role: "Presidenta",
        description:
            "Con una trayectoria en el trabajo comunitario, Joanna lidera MIRES con una visión clara de inclusión y apoyo a las personas más vulnerables. Su habilidad para establecer conexiones y alianzas ha sido clave para el crecimiento de la organización.",
        image: "/assets/img/team__mires_johana.jpg",
    },
    {
        name: "Martha Rosa González",
        role: "Secretaria",
        description:
            "Responsable de la administración y coordinación interna, Martha garantiza la eficiencia de todas las operaciones. Su organización y compromiso con la transparencia inspiran confianza en quienes apoyan y colaboran con MIRES.",
        image: "/assets/img/team__mires_martha_gonzalez.jpg",
    },
    {
        name: "Mary Claret Núñez de Glod",
        role: "Tesorera",
        description:
            "Con una experiencia sólida en gestión financiera, Mary es quien cuida de los recursos de MIRES, optimizando el uso de cada donación recibida para maximizar el impacto social.",
        image: "/assets/img/team_mires_mary_glod.jpg",
    },
];

const testimonials = [
    {
        name: "Martha Rosa González",
        text: "Para mí ha sido una experiencia que me llena de gozo al trabajar en la obra del Señor",
        image: "/assets/img/volunteers/testimonio_12.jpg"
    },
    {
        name: "Enza Liccet",
        text: "Ser voluntaria de Mires ha sido una experiencia única y una satisfacción por hacer algo que está en mi, como es ayudar y sentirme más cerca de Dios. Gracias Mires y a su gente.",
        image: "/assets/img/volunteers/testimonio_12.jpg"
    },
    {
        name: "Iván Silva",
        text: "Trabajar con el equipo de Johana ha sido muy enriquecedor y una experiencia inolvidable de ayuda a los demás.",
        image: "/assets/img/volunteers/testimonio_12.jpg"
    },
    {
        name: "Jonathan Clavijo Melo",
        text: "Trabajar con la asociación mires para mi ha sido una de las cosas más lindas que me han pasado en la cual puedo ayudar a las personas y en momentos sacarles una sonrisa a pesar de los momentos que les pone la vida. Gracias a joa la cual es un ángel me da la oportunidad de compartir estas experiencias y llenar de amor el mundo con pequeños gestos.",
        image: "/assets/img/volunteers/testimonio_12.jpg"
    },
    {
        name: "Maria Del Carmen Macías Lozano",
        text: "En momentos difíciles se conocen a las buenas personas y he tenido el honor de poder trabajar como voluntaria junto a Mires.",
        image: "/assets/img/volunteers/testimonio_12.jpg"
    },
    {
        name: "Miriam Garcia",
        text: "Trabajar con la ONG MIRES me aporta felicidad ya que sé que estoy en mi camino de vida, el poder ver como las personas necesitadas pueden tener un día un poco más feliz",
        image: "/assets/img/volunteers/testimonio_12.jpg"
    },
    // Mantenemos los primeros 6 testimonios para no hacer el código demasiado largo
];

const heroData = {
  title: "Nuestro Equipo",
  description: "Personas comprometidas con el bienestar social y la transformación de comunidades"
};

// CTA Data
const ctaData = {
  title: "Cada acción cuenta",
  description: "Juntos, construimos un futuro más inclusivo y solidario. Tu participación puede marcar la diferencia en la vida de muchas personas.",
  primaryButton: {
    text: "Únete a Nuestro Equipo",
    href: "https://wa.me/34722630688"
  },
  secondaryButton: {
    text: "Sé Voluntario",
    href: "https://wa.me/34722630688"
  }
};
---

<BaseLayout title="Equipo - MIRES">
  <!-- Hero Section -->
  <SimpleHeroSection {...heroData} />
  
  <!-- Leadership Section -->
  <section class="py-20 bg-gray-50 dark:bg-darkbg">
    <div class="container mx-auto px-4">
      <SectionTitle 
        title="Equipo de Liderazgo" 
        subtitle="Conoce a las personas que hacen posible nuestra misión día a día"
      />
      
      <div class="space-y-8 max-w-5xl mx-auto">
        {leadership.map(member => <TeamMemberCard {...member} />)}
      </div>
    </div>
  </section>
  
  <!-- Testimonials Section -->
  <section class="py-20 bg-white dark:bg-darkbg/80">
    <div class="container mx-auto px-4">
      <SectionTitle 
        title="Testimonios de Nuestros Voluntarios" 
        subtitle="Experiencias que inspiran y motivan nuestro trabajo diario"
      />
      
      <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
        {testimonials.map(testimonial => <TestimonialCard {...testimonial} />)}
      </div>
      
      <!-- Ver más testimonios -->
      <div class="mt-12 text-center">
        <a href="https://www.instagram.com/somosmires?igsh=MXZtdzl0ZnJhNG1pZQ==" class="inline-flex items-center px-6 py-3 bg-primary/10 hover:bg-primary/20 text-primary dark:bg-primary/20 dark:hover:bg-primary/30 dark:text-white rounded-full transition-all duration-300">
          <span>Ver más testimonios</span>
          <svg class="w-5 h-5 ml-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14 5l7 7m0 0l-7 7m7-7H3"></path>
          </svg>
        </a>
      </div>
    </div>
  </section>
  
  <!-- CTA Section -->
  <CTASection {...ctaData} />
</BaseLayout>

<style>
  /* Animaciones para elementos al hacer scroll */
  @keyframes fadeInUp {
    from {
      opacity: 0;
      transform: translateY(20px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }
  
  .animate-fade-in-up {
    animation: fadeInUp 0.6s ease-out forwards;
  }
  
  /* Aplicar animaciones con delay para crear efecto escalonado */
  section > div > * {
    opacity: 0;
  }
  
  section.in-view > div > * {
    animation: fadeInUp 0.6s ease-out forwards;
  }
  
  section.in-view > div > *:nth-child(2) {
    animation-delay: 0.2s;
  }
  
  section.in-view > div > *:nth-child(3) {
    animation-delay: 0.4s;
  }
</style>

<script>
  // Script para detectar cuando las secciones entran en el viewport
  document.addEventListener('DOMContentLoaded', () => {
    const sections = document.querySelectorAll('section');
    
    const observer = new IntersectionObserver((entries) => {
      entries.forEach(entry => {
        if (entry.isIntersecting) {
          entry.target.classList.add('in-view');
        }
      });
    }, { threshold: 0.1 });
    
    sections.forEach(section => {
      observer.observe(section);
    });
    
    // Funcionalidad para los botones "Leer más"
    const readMoreButtons = document.querySelectorAll('.testimonial-card button');
    readMoreButtons.forEach(button => {
      button.addEventListener('click', (e) => {
        const card = e.target.closest('.testimonial-card');
        card.classList.toggle('expanded');
        button.textContent = card.classList.contains('expanded') ? 'Leer menos' : 'Leer más';
      });
    });
  });
</script>

