---
import BaseLayout from "@/layouts/BaseLayout.astro";
import SectionTitle from "@/components/SectionTitle.astro";
import TeamMemberCard from "@/components/TeamMemberCard.astro";
import TestimonialCard from "@/components/TestimonialCard.astro";
import SimpleHeroSection from "@/components/SimpleHeroSection.astro";
import { getRelativeLocaleUrl } from "astro:i18n";
import Cta from "@/components/Cta.astro";

const currentLang = Astro.currentLocale || "es";

const leadership = [
    {
        name: "Joanna Glod Núñez",
        role: "Presidenta",
        description:
            "Con una trayectoria en el trabajo comunitario, Joanna lidera MIRES con una visión clara de inclusión y apoyo a las personas más vulnerables. Su habilidad para establecer conexiones y alianzas ha sido clave para el crecimiento de la organización.",
        image: "/assets/img/team/team_mires_presidente.avif",
    },
    {
        name: "Martha Rosa González",
        role: "Secretaria",
        description:
            "Responsable de la administración y coordinación interna, Martha garantiza la eficiencia de todas las operaciones. Su organización y compromiso con la transparencia inspiran confianza en quienes apoyan y colaboran con MIRES.",
        image: "/assets/img/team__mires_martha_gonzalez.avif",
    },
    {
        name: "Mary Claret Núñez de Glod",
        role: "Tesorera",
        description:
            "Con una experiencia sólida en gestión financiera, Mary es quien cuida de los recursos de MIRES, optimizando el uso de cada donación recibida para maximizar el impacto social.",
        image: "/assets/img/team_mires_mary_glod.avif",
    },
];

const testimonials = [  
    {
        name: "Martha Rosa González",
        text: "Para mí ha sido una experiencia que me llena de gozo al trabajar en la obra del Señor.",
        image: "/assets/img/volunteers/mires_testimonios_3.avif",
        role: "Voluntario",
        textMore: "Leer más",
        textLess: "Leer menos",
    },
    {
        name: "Enza Liccet",
        text: "Ser voluntaria de Mires ha sido una experiencia única y una satisfacción por hacer algo que está en mi, como es ayudar y sentirme más cerca de Dios. Gracias Mires y a su gente.",
        image: "/assets/img/volunteers/mires_testimonios_4.avif",
        role: "Voluntario",
        textMore: "Leer más",
        textLess: "Leer menos",
    },
    {
        name: "Iván Silva",
        text: "Trabajar con el equipo de Johana ha sido muy enriquecedor y una experiencia inolvidable de ayuda a los demás.",
        image: "/assets/img/volunteers/mires_testimonios_14.avif",
        role: "Voluntario",
        textMore: "Leer más",
        textLess: "Leer menos",
    },
    {
        name: "Jonathan Clavijo Melo",
        text: "Trabajar con la asociación mires para mi ha sido una de las cosas más lindas que me han pasado en la cual puedo ayudar a las personas y en momentos sacarles una sonrisa a pesar de los momentos que les pone la vida. Gracias a joa la cual es un ángel me da la oportunidad de compartir estas experiencias y llenar de amor el mundo con pequeños gestos.",
        image: "/assets/img/volunteers/mires_testimonios_7.avif",
        role: "Voluntario",
        textMore: "Leer más",
        textLess: "Leer menos",
    },
    {
        name: "Miriam Garcia",
        text: "Trabajar con la ONG MIRES me aporta felicidad ya que sé que estoy en mi camino de vida, el poder ver como las personas necesitadas pueden tener un día un poco más feliz.",
        image: "/assets/img/volunteers/mires_testimonios_9.avif",
        role: "Voluntario",
        textMore: "Leer más",
        textLess: "Leer menos",
    },
    {
        name: "Francis Guerra",
        text: "Ser voluntaria de Mires es una oportunidad de crecer, conectar con personas increíbles y cosechar sonrisas.",
        image: "/assets/img/volunteers/mires_testimonios_8.avif",
        role: "Voluntario",
        textMore: "Leer más",
        textLess: "Leer menos",
    },
    {
        name: "Laura Escabias Soriano",
        text: "Es de admirar el gran trabajo y la gran organización de esta ONG Mires y de la gran labor que hacen ustedes cada día  para  poder ayudar a  personas  en momentos  muy  duros  y de gran tristeza  como ha sido la dana. Estoy  encantada de poder haber formado parte  con ustedes! Y así colaborar  a ayudar A los más necesitados Juntos podemos !sois  maravillosos cada uno de vosotros   que siga habiendo  personas en el mundo como vosotros  un abrazo a todos.",
        image: "/assets/img/volunteers/mires_testimonios_15.avif",
        role: "Voluntario",
        textMore: "Leer más",
        textLess: "Leer menos",
    },
    {
        name: "José Solano",
        text: "Me gusta ser voluntario, porque así ayudo a las personas.",
        image: "/assets/img/volunteers/mires_testimonios_5.avif",
        role: "Voluntario",
        textMore: "Leer más",
        textLess: "Leer menos",
    },
    {
        name: "Yris Nieves",
        text: "Ha sido un verdadero placer compartir con los integrantes de esta organización, para brindar el apoyo a las personas afectadas por LA DANA!  El Señor nos llama a servir y MIRES  dice presente! Gracias totales!.",
        image: "/assets/img/volunteers/mires_testimonios_6.avif",
        role: "Voluntario",
        textMore: "Leer más",
        textLess: "Leer menos",
    },
    {
        name: "Iris Solano",
        text: "Ser voluntario de una ONG es hacerlo con amor y dedicación, es tener un  corazón llenito de cariño y mucha dedicación para ayudar a las personas más necesitadas y vulnerables.",
        image: "/assets/img/volunteers/mires_testimonios_10.avif",
        role: "Voluntario",
        textMore: "Leer más",
        textLess: "Leer menos",
    },
    {
        name: "Ilaria Ferrarese",
        text: "Hola a todos. Me llamo Ilaria y soy italiana. Vivo en Valencia desde hace casi 10 años. He decidido participar como voluntaria en algunas ocasiones porque creo que es importante poder ayudar a quienes más lo necesitan. ¡Gracias a Joanna y a todos los voluntarios por el increíble trabajo y por las personas tan maravillosas que son! Cada granito de arena cuenta un fuerte abrazo a todos los afectados de la Dana en este momento tan duro.",
        image: "/assets/img/volunteers/mires_testimonios_11.avif",
        role: "Voluntario",
        textMore: "Leer más",
        textLess: "Leer menos",
    },
    {
        name: "Marce Peribañez Díaz y Sonia Jorge Pascual.",
        text: "Rodéate de BUENOS y serás uno de ELLOS.",
        image: "/assets/img/volunteers/mires_testimonios_12.avif",
        role: "Voluntario",
        textMore: "Leer más",
        textLess: "Leer menos",
    },
    {
        name: "Elena Elchaninova",
        text: "Mi nombre es Elena, Valencia vivió 2 acontecimientos terribles este año y pude trabajar en este maravilloso equipo junto con Joanna, todos ayudamos juntos a nuestra ciudad durante estos períodos difíciles, cuando juntos podemos hacer cualquier cosa!!!",
        image: "/assets/img/volunteers/mires_testimonios_13.avif",
        role: "Voluntario",
        textMore: "Leer más",
        textLess: "Leer menos",
    },
    {
        name: "Maria Del Carmen Macías Lozano",
        text: "En momentos difíciles se conocen a las buenas personas y he tenido el honor de poder trabajar como voluntaria junto a Mires.",
        image: "/assets/img/volunteers/mires_testimonios_1.avif",
        role: "Voluntario",
        textMore: "Leer más",
        textLess: "Leer menos",
    },
    
    
];

const heroData = {
  title: "Nuestro Equipo",
  description: "Personas comprometidas con el bienestar social y la transformación de comunidades",
  backgroundImage: "/assets/img/team/mires_team_portada.avif",
};

// CTA Data
const ctaData = {
  title: "Cada acción cuenta",
  description: "Juntos, construimos un futuro más inclusivo y solidario. Tu participación puede marcar la diferencia en la vida de muchas personas.",
  contactLink: getRelativeLocaleUrl(currentLang, "contact"),
  donateLink: getRelativeLocaleUrl(currentLang, "donate"),
  contactText: "Contacto",
  donateText: "Voluntario"
};


---

<BaseLayout title="Equipo - MIRES">
  <!-- Hero Section -->
  <SimpleHeroSection {...heroData} />
  
  <!-- Leadership Section -->
  <section class="py-20 bg-gray-50 dark:bg-darkbg">
    <div class="container mx-auto px-4">
      <SectionTitle 
        title="Equipo de Liderazgo" 
        subtitle="Conoce a las personas que hacen posible nuestra misión día a día"
      />
      
      <div class="space-y-8 max-w-5xl mx-auto">
        {leadership.map(member => <TeamMemberCard {...member} />)}
      </div>
    </div>
  </section>
  
  <!-- Testimonials Section -->
  <section class="py-20 bg-white dark:bg-darkbg/80">
    <div class="container mx-auto px-4">
      <SectionTitle 
        title="Testimonios de Nuestros Voluntarios" 
        subtitle="Experiencias que inspiran y motivan nuestro trabajo diario"
      />
      
      <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
        {testimonials.map(testimonial => <TestimonialCard {...testimonial} />)}
      </div>
      
      <!-- Ver más testimonios -->
      <div class="mt-12 text-center">
        <a href="https://www.instagram.com/somosmires?igsh=MXZtdzl0ZnJhNG1pZQ==" class="inline-flex items-center px-6 py-3 bg-primary/10 hover:bg-primary/20 text-primary dark:bg-primary/20 dark:hover:bg-primary/30 dark:text-white rounded-full transition-all duration-300">
          <span>Ver más testimonios</span>
          <svg class="w-5 h-5 ml-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14 5l7 7m0 0l-7 7m7-7H3"></path>
          </svg>
        </a>
      </div>
    </div>
  </section>
  
  <!-- CTA Section -->
  <Cta {...ctaData} />
</BaseLayout>

<style>
  /* Animaciones para elementos al hacer scroll */
  @keyframes fadeInUp {
    from {
      opacity: 0;
      transform: translateY(20px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }
  
  .animate-fade-in-up {
    animation: fadeInUp 0.6s ease-out forwards;
  }
  
  /* Aplicar animaciones con delay para crear efecto escalonado */
  section > div > * {
    opacity: 0;
  }
  
  section.in-view > div > * {
    animation: fadeInUp 0.6s ease-out forwards;
  }
  
  section.in-view > div > *:nth-child(2) {
    animation-delay: 0.2s;
  }
  
  section.in-view > div > *:nth-child(3) {
    animation-delay: 0.4s;
  }
</style>

<script>
  // Script para detectar cuando las secciones entran en el viewport
  document.addEventListener('DOMContentLoaded', () => {
    const sections = document.querySelectorAll('section');
    
    const observer = new IntersectionObserver((entries) => {
      entries.forEach(entry => {
        if (entry.isIntersecting) {
          entry.target.classList.add('in-view');
        }
      });
    }, { threshold: 0.1 });
    
    sections.forEach(section => {
      observer.observe(section);
    });
    
    // Funcionalidad para los botones "Leer más"
    const readMoreButtons = document.querySelectorAll('.testimonial-card button');
    readMoreButtons.forEach(button => {
      button.addEventListener('click', (e) => {
        const card = (e.target as Element).closest('.testimonial-card');
        if (card) {
          card.classList.toggle('expanded');
          button.textContent = card.classList.contains('expanded') ? 'Leer menos' : 'Leer más';
        }
      });
    });
  });
</script>

