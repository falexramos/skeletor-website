---
//src\pages\ventas.astro
import FormDataPay from '@/components/pay/FormDataPay.astro';
import Layout from '@/layouts/Layout.astro';
import type { ProductDetails } from '@/interfaces/product';

const products: ProductDetails[] = [
  {
    id: "1",
    unitPrice: 30,
    quantity: 6,
    image: '/assets/img/ordenador.jpeg',
    name: 'Producto de Ejemplo',
    description: 'Descripción del producto de ejemplo',
  },
   {
    id: "2",
    unitPrice: 10,
    quantity: 4,
    image: '/assets/img/ordenador.jpeg',
    name: 'Producto de Ejemplo 2',
    description: 'Descripción del producto de ejemplo 2',
  }
];

// Calcular el total inicial
const initialAmount = products.reduce(
  (total, product) => total + (product.unitPrice * (product.quantity || 1)), 0
);
---

<Layout title="Formulario de Pago y Registro">
 <section class="py-12 px-4 flex-1 flex justify-center items-center">
  <div class="max-w-7xl w-full">
   <FormDataPay initialAmount={initialAmount} products={products} />
  </div>
 </section>
</Layout>