---
// components/EventCard.astro
interface Props {
  imageUrl: string;
  title: string;
  date: string;
  className?: string;
  imageClassName?: string;
  titleClassName?: string;
  dateClassName?: string;
  aspectRatio?: string;
  onClick?: string;  // Para eventos JavaScript
}

const { 
  imageUrl, 
  title, 
  date,
  className = "relative overflow-hidden rounded-3xl",
  imageClassName = "w-full h-full object-cover",
  titleClassName = "text-2xl font-display font-bold text-dark dark:text-light mb-2",
  dateClassName = "text-dark/80 dark:text-light/80",
  aspectRatio = "1/1", // Cuadrado por defecto para consistencia
  onClick
} = Astro.props;
---

<div 
  class={`group ${className}`}
  style={`aspect-ratio: ${aspectRatio};`}
  data-onclick={onClick}
>
  <div class="h-[70%] overflow-hidden">
    <img 
      src={imageUrl || "/placeholder.svg"} 
      alt={title} 
      class={imageClassName}
    />
  </div>
  <div class="p-4 h-[30%] flex flex-col justify-center">
    <h3 class={titleClassName}>{title}</h3>
    <p class={dateClassName}>{date}</p>
    <slot /> <!-- Para contenido adicional -->
  </div>
</div>

<!-- Script opcional para manejar clics -->
{onClick && (
  <script define:vars={{ onClick }}>
    document.querySelector(`[data-onclick="${onClick}"]`)?.addEventListener('click', () => {
      eval(onClick);
    });
  </script>
)}