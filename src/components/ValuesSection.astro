---
import { Icon } from 'astro-icon/components';

interface Value {
  title: string;
  description: string;
  icon: string;
  verse: string;
  reference: string;
}

interface Props {
  title: string;
  values: Value[];
  className?: string;
  backgroundColor?: string;
}

const {
  title,
  values,
  className = "py-32 px-8",
  backgroundColor = "bg-accent"
} = Astro.props;
---

<section class={`${className} ${backgroundColor}`}>
  <div class="max-w-[90rem] mx-auto">
    <h2 class="large-text mb-16 text-dark">{title}</h2>
    <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-8">
      {values.map((value) => (
        <div class="relative p-8 bg-light dark:bg-dark rounded-3xl transition-all duration-300 hover:shadow-xl hover:scale-[1.02]">
          <div class="mb-6">
            <Icon 
              name={value.icon} 
              class="w-12 h-12 text-accent dark:text-accent/80" 
            />
          </div>
          <h3 class="text-2xl font-display font-bold mb-4 text-dark dark:text-light">
            {value.title}
          </h3>
          <p class="text-lg mb-6 text-dark/80 dark:text-light/80">
            {value.description}
          </p>
          <details class="group">
            <summary class="list-none text-accent dark:text-accent/90 font-semibold hover:opacity-80 transition-opacity cursor-pointer">
              <span class="inline-flex items-center">
                Soporte
                <svg 
                  class="w-4 h-4 ml-1 transition-transform group-open:rotate-180" 
                  fill="none" 
                  viewBox="0 0 24 24" 
                  stroke="currentColor"
                >
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7" />
                </svg>
              </span>
            </summary>
            <div class="mt-4 pt-4 border-t border-dark/10 dark:border-light/10">
              <blockquote class="italic text-sm text-dark/70 dark:text-light/70 mb-2">
                "{value.verse}"
              </blockquote>
              <p class="text-right text-sm font-bold text-dark/90 dark:text-light/90">
                {value.reference}
              </p>
            </div>
          </details>
        </div>
      ))}
    </div>
  </div>
</section>

<style>
  details summary::-webkit-details-marker {
    display: none;
  }
</style>